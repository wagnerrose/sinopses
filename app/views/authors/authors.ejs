<!DOCTYPE html>
<html lang="pt-br">
	<head>
		<%- include('../partials/head') %>
		<%- include('../partials/headDataTable') %>
	</head>
	<body>
		<header>
			<%- include('../partials/header') %>
		</header>
		<main>
			<div class="container-fluid">
				<% if(validator !== undefined) {%>
					<div class="alert alert-danger alert-dismissible" role="alert">
						<%= validator %>
						<% console.log('deu esse erro ==>>', validator); %>
						<button type="button" class="close" data-dismiss="alert" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>								
					</div>
				<% } %> 
				<h1 class="centro">Relação de Autores</h1>

				<div class="row">
					<div class="col col-sm-3"></div>
					<div class="col col-sm-6">
						<div class="jumbotron">
							<table class="table table-hover" id="tabela" style="width:100%">
								<thead class="thead-dark">
									<tr>
										<th>ID</th>
										<th>Autor</th>
										<th>Nascimento</th>
										<th>Ação</th>
									</tr>
								</thead>
								<tbody>
									<% for( let i = 0; i < authors.length; i++ ) { %>
										<tr>
											<td><%= authors[i].id %> </td>
											<td><a href="/autor?id=<%= authors[i].id %>" title="Detalha/Edita Autor" > <%= authors[i].name %></a> </td>
											<td><%= authors[i].birthdate.toLocaleDateString () %> </td>
											<td>
												<a href="/autor/apagar?id=<%= authors[i].id %>" class='confirmation' title="Apaga Autor">
													<i class="fa fa-trash" style="color:crimson"></i><span style="color: crimson"> Apagar</span>
												</a>
											</td>
										</tr>
									<% } %>
								</tbody>		     
								</table>
								<div class="row" style="margin-top: 20px;">
									<div class="col-sm"></div>
									<div class="col-sm-auto">
										<a href="/" class="btn btn-primary btn-sm" tabindex="-1" role="button" aria-disabled="true">Home</a>
										<a href="/form_add_author" class="btn btn-primary btn-sm" tabindex="-1" role="button" aria-disabled="true">Novo Autor</a>
									</div>
									<div class="col-sm"></div>
								</div><!-- div botoes-->
							</div> <!--div col jumbotron-->
						</div> <!--div col tabela-->
						<div class="col col-sm-3"></div>
					</div> <!-- div row -->
				</div> <!--div container-fluid-->
			</main>
			<footer>
				<%- include('../partials/footer') %> 
			</footer> 
	</body>
</html>
